<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymer-filters/polymer-filters.html">
<link rel="import" href="scorecard.html">
<link rel="import" href="x-websocket.html">

<polymer-element name="polymer-scoreboard" horizontal justified-left layout wrap>
  <template>
    <x-websocket url="ws:/192.171.0.120:3001/websocket" jsonReceive response="{{response}}"></x-websocket>
    <template repeat="{{ response.scores | orderBy('event') }}">
      <polymer-scorecard 
          league="{{event}}"
          period="{{period}}"
          home="{{homeTeam}}"
          homeShort="{{shortHomeTeam}}"
          homeScore="{{homeScore}}"
          away="{{awayTeam}}"
          awayShort="{{shortAwayTeam}}"
          awayScore="{{awayScore}}"
      ></polymer-scorecard>
    </template>
  </template>
  <script>
    Polymer('polymer-scoreboard', {
      ready: function() 
      {
        //this.addEventListener('message', this.handleMessage);
      },
      handleMessage: function(event) 
      {
        //this.response = event.detail.data;
      }
    });
  </script>
</polymer-element>